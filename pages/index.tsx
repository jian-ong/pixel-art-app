import type { NextPage } from "next";
import Head from "next/head";
import { useState } from "react";
import { ColorPalette } from "../components/ColorPalette";
import Grid from "../components/Grid";
import Layout from "../components/Layout";
import { Color } from "../models/types";

const createEmptyGrid = (numRows: number, numCols: number): Color[][] =>
  new Array(numRows).fill(new Array(numCols).fill("#fff"));

const Home: NextPage = () => {
  const colors: Color[] = [
    "#fff",
    "#f6dbdb",
    "#f2e3c6",
    "#d3ece1",
    "#c2eec7",
    "#eed2e8",
    "#fcdabe",
    "#f2c7cc",
    "#C0C2E2",
    "#C2E7F1",
    "#D7F2CE",
    "#F3FBD2",
    "#CC99C9",
    "#9EC1CF",
    "#9EE09E",
    "#FDFD97",
    "#FEB144",
    "#FF6663",
    "#0151FF",
    "#45BD46",
    "#FFED16",
    "#FF8500",
    "#E40B27",
    "#000",
  ];

  const grid = createEmptyGrid(25, 25);
  const [selected, setSelected] = useState<Color | null>(null);

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <Layout
        colorPalette={
          <ColorPalette
            colors={colors}
            selected={selected}
            onSelect={(color) => setSelected(color)}
          />
        }
        grid={<Grid grid={grid} />}
        actions={<button>SAVE :D</button>}
      />
    </>
  );
};

export default Home;
